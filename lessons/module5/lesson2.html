<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 2: Function Parameters - JavaScript Journey</title>
    <link rel="stylesheet" href="../../styles/main.css">
    <link rel="stylesheet" href="../../styles/themes.css">
    <link rel="stylesheet" href="../../styles/lesson.css">
    <link rel="stylesheet" href="../../styles/dark-mode-fixes.css">
    <link rel="stylesheet" href="../../styles/code-highlighting.css">
    <link rel="stylesheet" href="../../styles/footer.css">
    <link rel="stylesheet" href="../../styles/header-enhanced.css">
    <link rel="stylesheet" href="../../styles/modal.css">
    <link rel="stylesheet" href="../../styles/style-guide.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="../../index.html" style="text-decoration: none; color: inherit;">
                    <i class="fas fa-code"></i>
                    <span>JavaScript Journey</span>
                </a>
            </div>
            <div class="nav-menu">
                <button class="nav-btn" onclick="window.location.href='../../index.html'">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </button>
                <button class="nav-btn" id="progressBtn">
                    <i class="fas fa-chart-line"></i>
                    <span>Progress</span>
                </button>
                <button class="nav-btn" id="resetBtn">
                    <i class="fas fa-redo"></i>
                    <span>Reset</span>
                </button>
                <button class="nav-btn" id="themeBtn">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>
    </nav>

    <main class="lesson-container">
        <article class="lesson-content">
            <!-- Lesson Header -->
            <div class="lesson-header">
                <h1>Module 5:<br>Lesson 2: Function Parameters</h1>
                <p class="lesson-subtitle">Learn how to make your functions flexible by accepting and using input values</p>
            </div>

            <!-- Introduction Section -->
            <section class="content-section">
                <h2>What Are Function Parameters?</h2>
                <p>Imagine you're a barista making coffee. Instead of making the same drink every time, customers can tell you what type of coffee they want, how much sugar, and whether they want milk. Function parameters work the same way - they let your functions receive information so they can behave differently based on what you give them.</p>
                <p>Parameters make functions incredibly powerful because they allow you to write one function that can handle many different situations, rather than writing separate functions for each case.</p>
            </section>

            <!-- Core Content -->
            <section class="content-section">
                <h2>Basic Parameters</h2>
                <p>Parameters are variables that you declare inside the parentheses of a function. When you call the function, you pass values called arguments:</p>

                <div class="code-editor" id="editor1">
                    <div class="editor-header">
                        <div class="editor-tabs">
                            <button class="editor-tab active">Basic Parameters</button>
                        </div>
                        <div class="editor-actions">
                            <button class="editor-btn copy-btn" onclick="copyCode('editor1')">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                            <button class="editor-btn run-btn" onclick="runCode('editor1')">
                                <i class="fas fa-play"></i> Run Code
                            </button>
                        </div>
                    </div>
                    <div class="editor-content">
                        <textarea class="code-input" id="editor1-code">
// Function with one parameter
function greetPerson(name) {
    console.log("Hello, " + name + "!");
}

// Calling the function with different arguments
greetPerson("Alice");
greetPerson("Bob");
greetPerson("Charlie");

// Function with multiple parameters
function introduce(firstName, lastName, age) {
    console.log("Hi, I'm " + firstName + " " + lastName + " and I'm " + age + " years old.");
}

introduce("John", "Doe", 25);
introduce("Jane", "Smith", 30);</textarea>
                        <div class="code-output">
                            <div class="output-label">Output will appear here...</div>
                            <pre id="editor1-output"></pre>
                        </div>
                    </div>
                </div>

                <div class="info-box" style="margin-top: 1.5rem;">
                    <div>
                        <i class="fas fa-lightbulb"></i> <strong> Key Concepts:</strong>
                        <p><strong>Parameter:</strong> The variable name inside the function definition (like <code>name</code>)</p>
                        <p><strong>Argument:</strong> The actual value you pass when calling the function (like <code>"Alice"</code>)</p>
                        <p><strong>Multiple Parameters:</strong> Separate them with commas in the function definition</p>
                    </div>
                </div>
            </section>

            <section class="content-section">
                <h2>Default Parameters</h2>
                <p>Sometimes you want to provide default values for parameters in case someone doesn't provide them:</p>

                <div class="code-editor" id="editor2">
                    <div class="editor-header">
                        <div class="editor-tabs">
                            <button class="editor-tab active">Default Parameters</button>
                        </div>
                        <div class="editor-actions">
                            <button class="editor-btn copy-btn" onclick="copyCode('editor2')">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                            <button class="editor-btn run-btn" onclick="runCode('editor2')">
                                <i class="fas fa-play"></i> Run Code
                            </button>
                        </div>
                    </div>
                    <div class="editor-content">
                        <textarea class="code-input" id="editor2-code">
// Function with default parameters
function orderCoffee(size = "medium", type = "latte") {
    console.log("One " + size + " " + type + " coming up!");
}

// Calling with all arguments
orderCoffee("large", "cappuccino");

// Calling with some arguments - uses defaults for missing ones
orderCoffee("small");

// Calling with no arguments - uses all defaults
orderCoffee();

// Another example with numbers
function calculateTip(billAmount, tipPercent = 15) {
    const tip = billAmount * (tipPercent / 100);
    console.log("Bill: $" + billAmount + ", Tip (" + tipPercent + "%): $" + tip.toFixed(2));
}

calculateTip(50, 20);  // Custom tip
calculateTip(30);      // Default 15% tip</textarea>
                        <div class="code-output">
                            <div class="output-label">Output will appear here...</div>
                            <pre id="editor2-output"></pre>
                        </div>
                    </div>
                </div>
            </section>

            <section class="content-section">
                <h2>Parameter Order Matters</h2>
                <p>The order you pass arguments must match the order of parameters in your function:</p>

                <div class="code-editor" id="editor3">
                    <div class="editor-header">
                        <div class="editor-tabs">
                            <button class="editor-tab active">Parameter Order</button>
                        </div>
                        <div class="editor-actions">
                            <button class="editor-btn copy-btn" onclick="copyCode('editor3')">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                            <button class="editor-btn run-btn" onclick="runCode('editor3')">
                                <i class="fas fa-play"></i> Run Code
                            </button>
                        </div>
                    </div>
                    <div class="editor-content">
                        <textarea class="code-input" id="editor3-code">
// Function that divides two numbers
function divide(dividend, divisor) {
    const result = dividend / divisor;
    console.log(dividend + " รท " + divisor + " = " + result);
}

// Order matters!
divide(10, 2);  // 10 รท 2 = 5
divide(2, 10);  // 2 รท 10 = 0.2

// Creating a user profile
function createProfile(username, email, isAdmin) {
    console.log("Username: " + username);
    console.log("Email: " + email);
    console.log("Admin: " + isAdmin);
    console.log("---");
}

// Correct order
createProfile("john_doe", "john@email.com", false);

// Wrong order - creates confusion!
createProfile(false, "john_doe", "john@email.com");</textarea>
                        <div class="code-output">
                            <div class="output-label">Output will appear here...</div>
                            <pre id="editor3-output"></pre>
                        </div>
                    </div>
                </div>

                <div class="real-world-example" style="margin-top: 1.5rem;">
                    <h3><i class="fas fa-pizza-slice"></i> Real-World Example: Pizza Ordering System</h3>
                    <p>A pizza ordering function might take parameters like <code>orderPizza(size, toppings, crust)</code>. The restaurant needs to know these details in the right order to make your pizza correctly!</p>
                </div>
            </section>

            <!-- Practice Exercises -->
            <section class="exercise-section">
                <div class="exercise-header">
                    <h3><i class="fas fa-puzzle-piece"></i> Practice Exercise 1: Parameters vs Arguments</h3>
                </div>
                <div class="exercise-content">
                    <p>In the function call <code>calculateArea(5, 10)</code>, what are 5 and 10 called?</p>
                    <div class="exercise-options" id="exercise1">
                        <button class="option-btn" data-answer="wrong">Parameters</button>
                        <button class="option-btn" data-answer="correct">Arguments</button>
                        <button class="option-btn" data-answer="wrong">Variables</button>
                        <button class="option-btn" data-answer="wrong">Functions</button>
                    </div>
                    <div class="exercise-feedback" id="exercise1-feedback"></div>
                </div>
            </section>

            <section class="exercise-section">
                <div class="exercise-header">
                    <h3><i class="fas fa-puzzle-piece"></i> Practice Exercise 2: Create a Math Function</h3>
                </div>
                <div class="exercise-content">
                    <p>Create a function called <code>multiply</code> that takes two parameters (<code>a</code> and <code>b</code>) and prints their product. Then call it with the numbers 6 and 7.</p>
                    <div class="code-editor" id="exercise">
                        <div class="editor-header">
                            <div class="editor-tabs">
                                <button class="editor-tab active">Your Solution</button>
                            </div>
                            <div class="editor-actions">
                                <button class="editor-btn" onclick="checkExercise()">
                                    <i class="fas fa-check"></i> Check Solution
                                </button>
                            </div>
                        </div>
                        <div class="editor-content">
                            <textarea class="code-input" id="exercise-code">
// Create your function here


// Call it with 6 and 7
</textarea>
                            <div class="code-output">
                                <div class="output-label">Output will appear here...</div>
                                <pre id="exercise-output"></pre>
                            </div>
                        </div>
                    </div>
                    <div class="exercise-feedback" id="exercise-feedback"></div>
                </div>
            </section>

            <section class="exercise-section">
                <div class="exercise-header">
                    <h3><i class="fas fa-puzzle-piece"></i> Practice Exercise 3: Default Parameters</h3>
                </div>
                <div class="exercise-content">
                    <p>What will this function print if called as <code>greet("Sarah")</code>?</p>
                    <div class="code-block">
                        <pre><code>function greet(name, greeting = "Hello") {
    console.log(greeting + ", " + name + "!");
}</code></pre>
                    </div>
                    <div class="exercise-options" id="exercise3">
                        <button class="option-btn" data-answer="wrong">undefined, Sarah!</button>
                        <button class="option-btn" data-answer="correct">Hello, Sarah!</button>
                        <button class="option-btn" data-answer="wrong">Sarah, Hello!</button>
                        <button class="option-btn" data-answer="wrong">Error</button>
                    </div>
                    <div class="exercise-feedback" id="exercise3-feedback"></div>
                </div>
            </section>

            <!-- Common Mistakes Section -->
            <section class="content-section">
                <h2>Common Mistakes to Avoid</h2>
                <div class="mistake-box">
                    <div class="mistake-item">
                        <div>
                            <i class="fas fa-times-circle"></i> <strong> Wrong Number of Arguments</strong>
                            <p>If your function expects 3 parameters but you only pass 2 arguments, the missing parameter will be <code>undefined</code>. Always check you're passing the right number of arguments.</p>
                        </div>
                    </div>
                    <div class="mistake-item">
                        <div>
                            <i class="fas fa-times-circle"></i> <strong> Mixing Up Parameter Order</strong>
                            <p>Arguments are matched to parameters by position, not by name. <code>divide(a, b)</code> is different from <code>divide(b, a)</code>!</p>
                        </div>
                    </div>
                    <div class="mistake-item">
                        <div>
                            <i class="fas fa-times-circle"></i> <strong> Forgetting to Use Parameters</strong>
                            <p>If you define parameters but don't use them in your function, they serve no purpose. Make sure to actually use the values you receive.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Summary Section -->
            <section class="content-section">
                <h2>Summary</h2>
                <div class="summary-box">
                    <h3>Key Takeaways:</h3>
                    <ul>
                        <li>Parameters make functions flexible by allowing them to accept input values</li>
                        <li>Parameters are variables declared in the function, arguments are the values passed when calling</li>
                        <li>Multiple parameters are separated by commas and matched by position</li>
                        <li>Default parameters provide fallback values when arguments aren't provided</li>
                        <li>Always pass arguments in the same order as the function's parameters</li>
                    </ul>
                </div>
            </section>

            <!-- Spacing before navigation -->
            <div style="margin: 2rem 0;"></div>
            
            <!-- Lesson Navigation -->
            <div class="lesson-navigation">
                <button class="btn btn-secondary" onclick="window.location.href='lesson1.html'">
                    <i class="fas fa-arrow-left"></i> Previous Lesson
                </button>
                
                <button class="btn btn-primary" onclick="completeLesson()">
                    Complete Lesson <i class="fas fa-check"></i>
                </button>
                
                <button class="btn btn-secondary" onclick="window.location.href='lesson3.html'">
                    Next Lesson <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </article>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-content">
            <p>Made by TayMcQuaya with <span class="heart">โค๏ธ</span></p>
            <div class="social-links">
                <a href="https://taymcquaya.com" target="_blank" rel="noopener noreferrer" aria-label="Personal Website">
                    <i class="fas fa-globe"></i>
                </a>
                <a href="https://x.com/TayMcQuaya" target="_blank" rel="noopener noreferrer" aria-label="X (Twitter)">
                    <i class="fa-brands fa-x-twitter"></i>
                </a>
                <a href="https://github.com/TayMcQuaya" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
                    <i class="fab fa-github"></i>
                </a>
            </div>
            <div class="copyright">
                <p>&copy; 2025 JavaScript Journey&trade; - All rights reserved</p>
            </div>
        </div>
    </footer>

    <!-- Reset Modal -->
    <div class="modal" id="resetModal">
        <div class="modal-content">
            <h3>Reset Progress</h3>
            <p>Choose what you want to reset:</p>
            <div class="modal-buttons">
                <button class="btn btn-danger" id="resetAllBtn">Reset All Progress</button>
                <button class="btn btn-warning" id="resetModuleBtn">Reset Current Module</button>
                <button class="btn btn-secondary" id="cancelResetBtn">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../../js/app.js"></script>
    <script src="../../js/storage.js"></script>
    <script src="../../js/navigation.js"></script>
    <script src="../../js/progress.js"></script>
    <script src="../../js/exercises.js"></script>
    <script src="../../js/modal.js"></script>
    <script>
        // Run code function
        function runCode(editorId) {
            const codeInput = document.getElementById(`${editorId}-code`);
            const outputPane = document.getElementById(`${editorId}-output`);
            
            if (!codeInput || !outputPane) return;
            
            const code = codeInput.value;
            
            // Clear the parent container to remove the "Output will appear here..." label
            const outputContainer = outputPane.parentElement;
            const outputLabel = outputContainer.querySelector('.output-label');
            if (outputLabel) {
                outputLabel.style.display = 'none';
            }
            
            outputPane.innerHTML = '';
            
            const originalConsoleLog = console.log;
            const logs = [];
            
            console.log = (...args) => {
                logs.push(args.map(arg => {
                    if (typeof arg === 'object') {
                        return JSON.stringify(arg, null, 2);
                    }
                    return String(arg);
                }).join(' '));
            };
            
            try {
                eval(code);
                
                if (logs.length > 0) {
                    outputPane.innerHTML = logs.map(log => 
                        `<div class="output-line">${escapeHtml(log)}</div>`
                    ).join('');
                } else {
                    outputPane.innerHTML = '<div class="output-line muted">No output</div>';
                }
            } catch (error) {
                outputPane.innerHTML = `<div class="output-error">Error: ${escapeHtml(error.message)}</div>`;
            } finally {
                console.log = originalConsoleLog;
            }
        }

        // Copy code function
        function copyCode(editorId) {
            const codeInput = document.getElementById(`${editorId}-code`);
            if (!codeInput) return;
            
            codeInput.select();
            codeInput.setSelectionRange(0, 99999);
            
            try {
                document.execCommand('copy');
                const button = event.target.closest('.editor-btn');
                const originalText = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check"></i> Copied!';
                setTimeout(() => {
                    button.innerHTML = originalText;
                }, 2000);
            } catch (err) {
                console.error('Failed to copy:', err);
            }
        }

        // Escape HTML for safe output
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Check exercise function
        function checkExercise() {
            const code = document.getElementById('exercise-code').value;
            const output = document.getElementById('exercise-output');
            const feedback = document.getElementById('exercise-feedback');
            
            // Clear the parent container to remove the "Output will appear here..." label
            const outputContainer = output.parentElement;
            const outputLabel = outputContainer.querySelector('.output-label');
            if (outputLabel) {
                outputLabel.style.display = 'none';
            }
            
            // Run the code first to show output
            runCode('exercise');
            
            // Check if the solution is correct
            const hasFunctionDeclaration = /function\s+multiply\s*\(\s*a\s*,\s*b\s*\)\s*{/.test(code);
            const hasMultiplication = code.includes('a * b') || code.includes('b * a');
            const hasConsoleLog = code.includes('console.log');
            const hasFunctionCall = code.includes('multiply(6, 7)') || code.includes('multiply(7, 6)');
            
            // Hide feedback first to create animation effect
            feedback.style.display = 'none';
            feedback.className = 'exercise-feedback';
            feedback.classList.remove('show', 'success', 'error');
            
            setTimeout(() => {
                feedback.style.display = 'block';
                if (hasFunctionDeclaration && hasMultiplication && hasConsoleLog && hasFunctionCall) {
                    feedback.className = 'exercise-feedback show success';
                    feedback.textContent = 'Perfect! You created the multiply function and called it correctly!';
                } else if (hasFunctionDeclaration && hasMultiplication && hasConsoleLog && !hasFunctionCall) {
                    feedback.className = 'exercise-feedback show error';
                    feedback.textContent = 'Almost there! Make sure to call multiply(6, 7).';
                } else if (hasFunctionDeclaration && !hasMultiplication) {
                    feedback.className = 'exercise-feedback show error';
                    feedback.textContent = 'Good start! Make sure your function multiplies a and b together.';
                } else {
                    feedback.className = 'exercise-feedback show error';
                    feedback.textContent = 'Not quite. Create a function called multiply that takes parameters a and b, multiplies them, and logs the result.';
                }
            }, 150);
        }

        // Complete lesson function
        function completeLesson() {
            Storage.saveProgress(5, 2, true);
            customModal.success('Excellent! You\'ve mastered function parameters!', 'Congratulations!');
            
            setTimeout(() => {
                window.location.href = 'lesson3.html';
            }, 2000);
        }

        // Handle quiz options
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.option-btn').forEach(button => {
                button.addEventListener('click', function() {
                    if (this.disabled) return;
                    
                    const exerciseContainer = this.closest('.exercise-options');
                    const exerciseId = exerciseContainer.id;
                    const feedbackDiv = this.closest('.exercise-content').querySelector('.exercise-feedback');
                    const isCorrect = this.getAttribute('data-answer') === 'correct';
                    
                    // Remove previous incorrect selections
                    exerciseContainer.querySelectorAll('.option-btn').forEach(btn => {
                        if (btn.classList.contains('incorrect')) {
                            btn.classList.remove('incorrect', 'selected');
                            btn.disabled = false;
                        }
                    });
                    
                    // Hide feedback first to create animation effect
                    if (feedbackDiv) {
                        feedbackDiv.style.display = 'none';
                        feedbackDiv.className = 'exercise-feedback';
                        feedbackDiv.classList.remove('show', 'success', 'error');
                    }
                    
                    // Mark this button
                    this.classList.add('selected');
                    this.classList.add(isCorrect ? 'correct' : 'incorrect');
                    
                    if (isCorrect) {
                        // Correct answer - disable all buttons
                        exerciseContainer.querySelectorAll('.option-btn').forEach(btn => {
                            btn.disabled = true;
                        });
                    } else {
                        // Wrong answer - disable only this button
                        this.disabled = true;
                    }
                    
                    // Show feedback with animation
                    if (feedbackDiv) {
                        setTimeout(() => {
                            feedbackDiv.style.display = 'block';
                            feedbackDiv.className = 'exercise-feedback show ' + (isCorrect ? 'success' : 'error');
                            
                            let feedbackText;
                            if (exerciseId === 'exercise1') {
                                feedbackText = isCorrect ? 
                                    'Correct! Arguments are the actual values passed to functions.' : 
                                    'Not quite. Try again!';
                            } else if (exerciseId === 'exercise3') {
                                feedbackText = isCorrect ? 
                                    'Correct! The default parameter "Hello" is used since no greeting was provided.' : 
                                    'Not quite. Remember that default parameters are used when no argument is provided.';
                            }
                            
                            feedbackDiv.textContent = feedbackText;
                        }, 150);
                    }
                });
            });
        });
    </script>
</body>
</html>