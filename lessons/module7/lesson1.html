<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 1: Object Literals - JavaScript Journey</title>
    <link rel="stylesheet" href="../../styles/main.css">
    <link rel="stylesheet" href="../../styles/themes.css">
    <link rel="stylesheet" href="../../styles/lesson.css">
    <link rel="stylesheet" href="../../styles/dark-mode-fixes.css">
    <link rel="stylesheet" href="../../styles/code-highlighting.css">
    <link rel="stylesheet" href="../../styles/footer.css">
    <link rel="stylesheet" href="../../styles/header-enhanced.css">
    <link rel="stylesheet" href="../../styles/modal.css">
    <link rel="stylesheet" href="../../styles/style-guide.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="../../index.html" style="text-decoration: none; color: inherit;">
                    <i class="fas fa-code"></i>
                    <span>JavaScript Journey</span>
                </a>
            </div>
            <div class="nav-menu">
                <button class="nav-btn" onclick="window.location.href='../../index.html'">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </button>
                <button class="nav-btn" id="progressBtn">
                    <i class="fas fa-chart-line"></i>
                    <span>Progress</span>
                </button>
                <button class="nav-btn" id="resetBtn">
                    <i class="fas fa-redo"></i>
                    <span>Reset</span>
                </button>
                <button class="nav-btn" id="themeBtn">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>
    </nav>

    <main class="lesson-container">
        <article class="lesson-content">
            <!-- Lesson Header -->
            <div class="lesson-header">
                <h1>Module 7:<br>Lesson 1: Object Literals</h1>
                <p class="lesson-subtitle">Learn to group related data together using JavaScript's most powerful data structure</p>
            </div>

            <!-- Introduction Section -->
            <section class="content-section">
                <h2>Introduction to Objects</h2>
                <p>Imagine a filing cabinet where each folder contains related documents about a specific topic. Objects in JavaScript work similarly - they're like digital filing cabinets that group related information together in one organized place. Instead of having separate variables scattered around your code, objects let you bundle related data and functionality under one roof.</p>
                <p>Objects are everywhere in JavaScript! From the simplest user profile to complex game characters, objects help us model real-world entities in our code. They're the building blocks of modern web applications and essential for organizing data efficiently.</p>
            </section>

            <!-- Core Content Section 1 -->
            <section class="content-section">
                <h2>Object Syntax and Properties</h2>
                <p>An object is created using curly braces <code>{}</code> and contains key-value pairs called properties. Think of properties as labeled folders in our filing cabinet:</p>

                <div class="info-box">
                    <div>
                        <i class="fas fa-lightbulb"></i> <strong> Key Insight:</strong>
                        <p>Objects use a colon (:) to separate keys from values, and commas to separate different properties. The key is like a label, and the value is the actual data stored.</p>
                    </div>
                </div>

                <div class="code-editor" id="editor1">
                    <div class="editor-header">
                        <div class="editor-tabs">
                            <button class="editor-tab active">Object Creation</button>
                        </div>
                        <div class="editor-actions">
                            <button class="editor-btn copy-btn" onclick="copyCode('editor1')">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                            <button class="editor-btn run-btn" onclick="runCode('editor1')">
                                <i class="fas fa-play"></i> Run Code
                            </button>
                        </div>
                    </div>
                    <div class="editor-content">
                        <textarea class="code-input" id="editor1-code">
// Creating an object to represent a person
const person = {
    name: "Alice",
    age: 28,
    city: "New York",
    occupation: "Designer"
};

console.log("=== Person Object ===");
console.log("Full object:", person);
console.log("Just the name:", person.name);
console.log("Just the age:", person.age);

// Objects can store different data types
const product = {
    id: 101,
    title: "Wireless Headphones",
    price: 89.99,
    inStock: true,
    colors: ["black", "white", "blue"],
    rating: 4.5
};

console.log("\n=== Product Object ===");
console.log("Product:", product.title);
console.log("Price: $" + product.price);
console.log("Available colors:", product.colors);
console.log("In stock:", product.inStock);
</textarea>
                        <div class="code-output">
                            <div class="output-label">Output will appear here...</div>
                            <pre id="editor1-output"></pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Core Content Section 2 -->
            <section class="content-section">
                <h2>Accessing Object Properties</h2>
                <p>There are two ways to access object properties: dot notation and bracket notation. Think of dot notation as using a key to open a specific drawer, while bracket notation is like having a master key that can open any drawer based on what you tell it:</p>

                <div class="code-editor" id="editor2">
                    <div class="editor-header">
                        <div class="editor-tabs">
                            <button class="editor-tab active">Property Access</button>
                        </div>
                        <div class="editor-actions">
                            <button class="editor-btn copy-btn" onclick="copyCode('editor2')">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                            <button class="editor-btn run-btn" onclick="runCode('editor2')">
                                <i class="fas fa-play"></i> Run Code
                            </button>
                        </div>
                    </div>
                    <div class="editor-content">
                        <textarea class="code-input" id="editor2-code">
const car = {
    brand: "Tesla",
    model: "Model 3",
    year: 2023,
    "top speed": 162,  // Property with space needs quotes
    electric: true
};

console.log("=== Dot Notation ===");
console.log("Brand:", car.brand);
console.log("Model:", car.model);
console.log("Year:", car.year);

console.log("\n=== Bracket Notation ===");
console.log("Brand:", car["brand"]);
console.log("Electric:", car["electric"]);
console.log("Top Speed:", car["top speed"]); // Only way to access this!

console.log("\n=== Dynamic Property Access ===");
const propertyName = "model";
console.log("Dynamic access:", car[propertyName]);

// Useful for user input or computed properties
const userChoice = "year";
console.log("User chose to see:", userChoice, "->", car[userChoice]);
</textarea>
                        <div class="code-output">
                            <div class="output-label">Output will appear here...</div>
                            <pre id="editor2-output"></pre>
                        </div>
                    </div>
                </div>

                <div class="warning-box">
                    <div>
                        <i class="fas fa-exclamation-triangle"></i> <strong> Important:</strong>
                        <p>Use bracket notation when property names contain spaces, special characters, or when accessing properties dynamically with variables.</p>
                    </div>
                </div>
            </section>

            <!-- Core Content Section 3 -->
            <section class="content-section">
                <h2>Adding, Updating, and Nested Objects</h2>
                <p>Objects are dynamic - you can modify them after creation. You can also nest objects inside other objects, creating complex data structures like a filing cabinet with folders inside folders:</p>

                <div class="code-editor" id="editor3">
                    <div class="editor-header">
                        <div class="editor-tabs">
                            <button class="editor-tab active">Object Modification</button>
                        </div>
                        <div class="editor-actions">
                            <button class="editor-btn copy-btn" onclick="copyCode('editor3')">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                            <button class="editor-btn run-btn" onclick="runCode('editor3')">
                                <i class="fas fa-play"></i> Run Code
                            </button>
                        </div>
                    </div>
                    <div class="editor-content">
                        <textarea class="code-input" id="editor3-code">
// Start with a basic user profile
const userProfile = {
    username: "coder123",
    email: "coder@example.com"
};

console.log("=== Initial Profile ===");
console.log(userProfile);

// Adding new properties
userProfile.firstName = "John";
userProfile.lastName = "Doe";
userProfile.isActive = true;

console.log("\n=== After Adding Properties ===");
console.log(userProfile);

// Updating existing properties
userProfile.email = "john.doe@newcompany.com";
userProfile.username = "johndoe2023";

console.log("\n=== After Updates ===");
console.log(userProfile);

// Nested objects - objects inside objects!
const company = {
    name: "Tech Solutions Inc",
    founded: 2020,
    address: {
        street: "123 Innovation Drive",
        city: "Silicon Valley",
        state: "CA",
        zipCode: "94000"
    },
    departments: {
        engineering: {
            employees: 15,
            manager: "Sarah Johnson"
        },
        marketing: {
            employees: 8,
            manager: "Mike Chen"
        }
    }
};

console.log("\n=== Nested Object Access ===");
console.log("Company:", company.name);
console.log("City:", company.address.city);
console.log("Engineering Manager:", company.departments.engineering.manager);
console.log("Marketing Team Size:", company.departments.marketing.employees);
</textarea>
                        <div class="code-output">
                            <div class="output-label">Output will appear here...</div>
                            <pre id="editor3-output"></pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Practice Exercise 1 -->
            <section class="exercise-section">
                <div class="exercise-header">
                    <h3><i class="fas fa-puzzle-piece"></i> Practice Exercise 1: Create a User Profile</h3>
                </div>
                <div class="exercise-content">
                    <p>Create an object called `student` with the following properties:</p>
                    <ul>
                        <li>name: "Emma Wilson"</li>
                        <li>age: 20</li>
                        <li>major: "Computer Science"</li>
                        <li>gpa: 3.8</li>
                        <li>isGraduated: false</li>
                    </ul>
                    <p>Then log the student's name and major to the console.</p>
                    
                    <div class="code-editor" id="exercise1">
                        <div class="editor-header">
                            <div class="editor-tabs">
                                <button class="editor-tab active">Your Code</button>
                            </div>
                            <div class="editor-actions">
                                <button class="editor-btn copy-btn" onclick="copyCode('exercise1')">
                                    <i class="fas fa-copy"></i> Copy
                                </button>
                                <button class="editor-btn run-btn" onclick="checkExercise1()">
                                    <i class="fas fa-play"></i> Run & Check
                                </button>
                            </div>
                        </div>
                        <div class="editor-content">
                            <textarea class="code-input" id="exercise1-code">
// Create your student object here
const student = {
    // Add the properties here
};

// Log the student's name and major
console.log("Student name:", );
console.log("Major:", );
</textarea>
                            <div class="code-output">
                                <div class="output-label">Output will appear here...</div>
                                <pre id="exercise1-output"></pre>
                            </div>
                        </div>
                    </div>
                    <div class="exercise-feedback" id="exercise1-feedback"></div>
                </div>
            </section>

            <!-- Practice Exercise 2 -->
            <section class="exercise-section">
                <div class="exercise-header">
                    <h3><i class="fas fa-puzzle-piece"></i> Practice Exercise 2: Object Property Quiz</h3>
                </div>
                <div class="exercise-content">
                    <p>What is the correct way to access the property "favorite color" in the object below?</p>
                    <pre><code>const preferences = {
    "favorite color": "blue",
    food: "pizza"
};</code></pre>
                    <div class="exercise-options" id="exercise2">
                        <button class="option-btn" data-answer="wrong">preferences.favorite color</button>
                        <button class="option-btn" data-answer="correct">preferences["favorite color"]</button>
                        <button class="option-btn" data-answer="wrong">preferences.favoriteColor</button>
                        <button class="option-btn" data-answer="wrong">preferences(favorite color)</button>
                    </div>
                    <div class="exercise-feedback" id="exercise2-feedback"></div>
                </div>
            </section>

            <!-- Practice Exercise 3 -->
            <section class="exercise-section">
                <div class="exercise-header">
                    <h3><i class="fas fa-puzzle-piece"></i> Practice Exercise 3: Object Explorer Game</h3>
                </div>
                <div class="exercise-content">
                    <p>Complete the treasure hunt! Access the hidden treasure by navigating through the nested objects:</p>
                    
                    <div class="code-editor" id="exercise3">
                        <div class="editor-header">
                            <div class="editor-tabs">
                                <button class="editor-tab active">Treasure Hunt</button>
                            </div>
                            <div class="editor-actions">
                                <button class="editor-btn copy-btn" onclick="copyCode('exercise3')">
                                    <i class="fas fa-copy"></i> Copy
                                </button>
                                <button class="editor-btn run-btn" onclick="checkExercise3()">
                                    <i class="fas fa-play"></i> Find Treasure
                                </button>
                            </div>
                        </div>
                        <div class="editor-content">
                            <textarea class="code-input" id="exercise3-code">
const treasureMap = {
    island: {
        name: "Mystery Island",
        locations: {
            beach: {
                description: "Sandy shore with palm trees",
                hidden: "seashell"
            },
            cave: {
                description: "Dark and mysterious",
                chambers: {
                    entrance: "old bones",
                    deepCave: {
                        treasure: "Golden Coin",
                        guardian: "friendly dragon"
                    }
                }
            },
            mountain: {
                peak: "beautiful view"
            }
        }
    }
};

// Your task: Access the treasure hidden in the deep cave
// Complete this line to find the treasure:
const treasure = treasureMap.
console.log("üè¥‚Äç‚ò†Ô∏è Treasure found:", treasure);

// Bonus: Also find what guards the treasure
const guardian = treasureMap.
console.log("üëπ Guardian:", guardian);
</textarea>
                            <div class="code-output">
                                <div class="output-label">Output will appear here...</div>
                                <pre id="exercise3-output"></pre>
                            </div>
                        </div>
                    </div>
                    <div class="exercise-feedback" id="exercise3-feedback"></div>
                </div>
            </section>

            <!-- Common Mistakes Section -->
            <section class="content-section">
                <h2>Common Mistakes to Avoid</h2>
                <div class="mistake-box">
                    <div class="mistake-item">
                        <div>
                            <i class="fas fa-times-circle"></i> <strong> Missing Commas Between Properties</strong>
                            <p>Always separate object properties with commas. Forgetting a comma will cause a syntax error. Remember: every property except the last one needs a comma after it.</p>
                        </div>
                    </div>
                    <div class="mistake-item">
                        <div>
                            <i class="fas fa-times-circle"></i> <strong> Using Dot Notation for Properties with Spaces</strong>
                            <p>Properties with spaces or special characters must be accessed with bracket notation. <code>obj.first name</code> won't work - use <code>obj["first name"]</code> instead.</p>
                        </div>
                    </div>
                    <div class="mistake-item">
                        <div>
                            <i class="fas fa-times-circle"></i> <strong> Forgetting Quotes Around Property Names with Spaces</strong>
                            <p>When defining properties with spaces, wrap them in quotes: <code>{"full name": "John"}</code>. Without quotes, JavaScript treats it as separate tokens and throws an error.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Summary Section -->
            <section class="content-section">
                <h2>Summary</h2>
                <div class="summary-box">
                    <h3>Key Takeaways:</h3>
                    <ul>
                        <li>Objects group related data using key-value pairs enclosed in curly braces <code>{}</code></li>
                        <li>Access properties with dot notation (<code>obj.property</code>) for simple names or bracket notation (<code>obj["property"]</code>) for complex names</li>
                        <li>Objects are dynamic - you can add, update, and modify properties after creation</li>
                        <li>Nested objects allow you to create complex data structures by placing objects inside other objects</li>
                        <li>Use bracket notation when property names have spaces, special characters, or when accessing dynamically</li>
                    </ul>
                </div>
            </section>

            <!-- Spacing before navigation -->
            <div style="margin: 2rem 0;"></div>
            
            <!-- Lesson Navigation -->
            <div class="lesson-navigation">
                <button class="btn btn-secondary" onclick="window.location.href='../module6/lesson5.html'">
                    <i class="fas fa-arrow-left"></i> Previous Lesson
                </button>
                
                <button class="btn btn-primary" onclick="completeLesson()">
                    Complete Lesson <i class="fas fa-check"></i>
                </button>
                
                <button class="btn btn-secondary" onclick="window.location.href='lesson2.html'">
                    Next Lesson <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </article>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-content">
            <p>Made by TayMcQuaya with <span class="heart">‚ù§Ô∏è</span></p>
            <div class="social-links">
                <a href="https://taymcquaya.com" target="_blank" rel="noopener noreferrer" aria-label="Personal Website">
                    <i class="fas fa-globe"></i>
                </a>
                <a href="https://x.com/TayMcQuaya" target="_blank" rel="noopener noreferrer" aria-label="X (Twitter)">
                    <i class="fa-brands fa-x-twitter"></i>
                </a>
                <a href="https://github.com/TayMcQuaya" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
                    <i class="fab fa-github"></i>
                </a>
            </div>
            <div class="copyright">
                <p>&copy; 2025 JavaScript Journey&trade; - All rights reserved</p>
            </div>
        </div>
    </footer>

    <!-- Reset Modal -->
    <div class="modal" id="resetModal">
        <div class="modal-content">
            <h3>Reset Progress</h3>
            <p>Choose what you want to reset:</p>
            <div class="modal-buttons">
                <button class="btn btn-danger" id="resetAllBtn">Reset All Progress</button>
                <button class="btn btn-warning" id="resetModuleBtn">Reset Current Module</button>
                <button class="btn btn-secondary" id="cancelResetBtn">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../../js/app.js"></script>
    <script src="../../js/storage.js"></script>
    <script src="../../js/navigation.js"></script>
    <script src="../../js/progress.js"></script>
    <script src="../../js/exercises.js"></script>
    <script src="../../js/modal.js"></script>
    <script>
        // Complete lesson function
        function completeLesson() {
            Storage.saveProgress(7, 1, true);
            customModal.success('Lesson completed! Objects are the building blocks of complex applications. Great start!', 'Congratulations!');
            
            setTimeout(() => {
                window.location.href = 'lesson2.html';
            }, 2000);
        }

        // Copy code function
        function copyCode(editorId) {
            const codeInput = document.getElementById(`${editorId}-code`);
            if (!codeInput) return;
            
            codeInput.select();
            codeInput.setSelectionRange(0, 99999);
            
            try {
                document.execCommand('copy');
                const button = event.target.closest('.editor-btn');
                const originalText = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check"></i> Copied!';
                setTimeout(() => {
                    button.innerHTML = originalText;
                }, 2000);
            } catch (err) {
                console.error('Failed to copy:', err);
            }
        }

        // Run code function
        function runCode(editorId) {
            const codeInput = document.getElementById(`${editorId}-code`);
            const outputPane = document.getElementById(`${editorId}-output`);
            
            if (!codeInput || !outputPane) return;
            
            const code = codeInput.value;
            
            // Clear the parent container to remove the "Output will appear here..." label
            const outputContainer = outputPane.parentElement;
            const outputLabel = outputContainer.querySelector('.output-label');
            if (outputLabel) {
                outputLabel.style.display = 'none';
            }
            
            outputPane.innerHTML = '';
            
            const originalConsoleLog = console.log;
            const logs = [];
            
            console.log = (...args) => {
                logs.push(args.map(arg => {
                    if (typeof arg === 'object') {
                        return JSON.stringify(arg, null, 2);
                    }
                    return String(arg);
                }).join(' '));
            };
            
            try {
                eval(code);
                
                if (logs.length > 0) {
                    outputPane.innerHTML = logs.map(log => 
                        `<div class="output-line">${escapeHtml(log)}</div>`
                    ).join('');
                } else {
                    outputPane.innerHTML = '<div class="output-line muted">No output</div>';
                }
            } catch (error) {
                outputPane.innerHTML = `<div class="output-error">Error: ${escapeHtml(error.message)}</div>`;
            } finally {
                console.log = originalConsoleLog;
            }
        }

        // Escape HTML function
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Exercise 1 checker
        function checkExercise1() {
            const code = document.getElementById('exercise1-code').value;
            const output = document.getElementById('exercise1-output');
            const feedback = document.getElementById('exercise1-feedback');
            
            // Clear the parent container to remove the "Output will appear here..." label
            const outputContainer = output.parentElement;
            const outputLabel = outputContainer.querySelector('.output-label');
            if (outputLabel) {
                outputLabel.style.display = 'none';
            }
            
            // Run the code first to show output
            runCode('exercise1');
            
            // Check if code contains required elements
            const hasStudentObject = code.includes('const student') || code.includes('let student') || code.includes('var student');
            const hasName = code.includes('"Emma Wilson"') || code.includes("'Emma Wilson'");
            const hasAge = code.includes('age') && code.includes('20');
            const hasMajor = code.includes('"Computer Science"') || code.includes("'Computer Science'");
            const hasGpa = code.includes('gpa') && code.includes('3.8');
            const hasGraduated = code.includes('isGraduated') && code.includes('false');
            const hasNameLog = code.includes('student.name') || code.includes('student["name"]');
            const hasMajorLog = code.includes('student.major') || code.includes('student["major"]');
            
            // Hide feedback first to create animation effect
            feedback.style.display = 'none';
            feedback.className = 'exercise-feedback';
            feedback.classList.remove('show', 'success', 'error');
            
            setTimeout(() => {
                feedback.style.display = 'block';
                if (hasStudentObject && hasName && hasAge && hasMajor && hasGpa && hasGraduated && hasNameLog && hasMajorLog) {
                    feedback.className = 'exercise-feedback show success';
                    feedback.textContent = 'Perfect! You successfully created the student object with all required properties and logged the correct information.';
                } else {
                    feedback.className = 'exercise-feedback show error';
                    let missing = [];
                    if (!hasStudentObject) missing.push('student object declaration');
                    if (!hasName) missing.push('name property with "Emma Wilson"');
                    if (!hasAge) missing.push('age property with 20');
                    if (!hasMajor) missing.push('major property with "Computer Science"');
                    if (!hasGpa) missing.push('gpa property with 3.8');
                    if (!hasGraduated) missing.push('isGraduated property with false');
                    if (!hasNameLog) missing.push('logging student.name');
                    if (!hasMajorLog) missing.push('logging student.major');
                    feedback.textContent = `Missing: ${missing.join(', ')}. Make sure to include all required properties and log statements.`;
                }
            }, 150);
        }

        // Exercise 3 checker
        function checkExercise3() {
            const code = document.getElementById('exercise3-code').value;
            const output = document.getElementById('exercise3-output');
            const feedback = document.getElementById('exercise3-feedback');
            
            // Clear the parent container to remove the "Output will appear here..." label
            const outputContainer = output.parentElement;
            const outputLabel = outputContainer.querySelector('.output-label');
            if (outputLabel) {
                outputLabel.style.display = 'none';
            }
            
            // Run the code first to show output
            runCode('exercise3');
            
            // Check if the output contains any errors
            const outputHasError = output.innerHTML.includes('output-error') || 
                                  output.innerHTML.includes('Error:');
            
            const hasTreasurePath = code.includes('island.locations.cave.chambers.deepCave.treasure');
            const hasGuardianPath = code.includes('island.locations.cave.chambers.deepCave.guardian');
            
            // Hide feedback first to create animation effect
            feedback.style.display = 'none';
            feedback.className = 'exercise-feedback';
            feedback.classList.remove('show', 'success', 'error');
            
            setTimeout(() => {
                feedback.style.display = 'block';
                if (hasTreasurePath && hasGuardianPath && !outputHasError) {
                    feedback.className = 'exercise-feedback show success';
                    feedback.textContent = 'üè¥‚Äç‚ò†Ô∏è Treasure found! You successfully navigated through the nested objects to find both the treasure and its guardian!';
                } else if (outputHasError) {
                    feedback.className = 'exercise-feedback show error';
                    feedback.textContent = 'Your code has errors. Check the output and fix the syntax issues.';
                } else {
                    feedback.className = 'exercise-feedback show error';
                    feedback.textContent = 'Not quite there yet. Make sure to complete both paths: treasureMap.island.locations.cave.chambers.deepCave.treasure and guardian.';
                }
            }, 150);
        }

        // Exercise 2 - Multiple choice handler
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.option-btn').forEach(button => {
                button.addEventListener('click', function() {
                    if (this.disabled) return;
                    
                    const exerciseContainer = this.closest('.exercise-options');
                    const feedbackDiv = this.closest('.exercise-content').querySelector('.exercise-feedback');
                    const isCorrect = this.getAttribute('data-answer') === 'correct';
                    
                    // Remove previous incorrect selections (but not correct ones)
                    exerciseContainer.querySelectorAll('.option-btn').forEach(btn => {
                        if (btn.classList.contains('incorrect')) {
                            btn.classList.remove('incorrect', 'selected');
                            btn.disabled = false;
                        }
                    });
                    
                    // Hide feedback first to create animation effect
                    if (feedbackDiv) {
                        feedbackDiv.style.display = 'none';
                        feedbackDiv.className = 'exercise-feedback';
                        feedbackDiv.classList.remove('show', 'success', 'error');
                    }
                    
                    // Mark this button
                    this.classList.add('selected');
                    this.classList.add(isCorrect ? 'correct' : 'incorrect');
                    
                    if (isCorrect) {
                        // Correct answer - disable all buttons
                        exerciseContainer.querySelectorAll('.option-btn').forEach(btn => {
                            btn.disabled = true;
                        });
                    } else {
                        // Wrong answer - disable only this button
                        this.disabled = true;
                    }
                    
                    // Show feedback with animation
                    if (feedbackDiv) {
                        setTimeout(() => {
                            feedbackDiv.style.display = 'block';
                            feedbackDiv.className = 'exercise-feedback show ' + (isCorrect ? 'success' : 'error');
                            if (isCorrect) {
                                feedbackDiv.textContent = 'Correct! Bracket notation is required for property names with spaces or special characters.';
                            } else {
                                feedbackDiv.textContent = 'Not quite. Property names with spaces must be accessed using bracket notation with quotes.';
                            }
                        }, 150);
                    }
                });
            });
        });
    </script>
</body>
</html>