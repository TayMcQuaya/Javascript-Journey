<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 1: Todo List App - JavaScript Journey</title>
    <link rel="stylesheet" href="../../styles/main.css">
    <link rel="stylesheet" href="../../styles/themes.css">
    <link rel="stylesheet" href="../../styles/lesson.css">
    <link rel="stylesheet" href="../../styles/dark-mode-fixes.css">
    <link rel="stylesheet" href="../../styles/code-highlighting.css">
    <link rel="stylesheet" href="../../styles/footer.css">
    <link rel="stylesheet" href="../../styles/header-enhanced.css">
    <link rel="stylesheet" href="../../styles/modal.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="../../index.html" style="text-decoration: none; color: inherit;">
                    <i class="fas fa-code"></i>
                    <span>JavaScript Journey</span>
                </a>
            </div>
            <div class="nav-menu">
                <button class="nav-btn" onclick="window.location.href='../../index.html'">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </button>
                <button class="nav-btn" id="progressBtn">
                    <i class="fas fa-chart-line"></i>
                    <span>Progress</span>
                </button>
                <button class="nav-btn" id="resetBtn">
                    <i class="fas fa-redo"></i>
                    <span>Reset</span>
                </button>
                <button class="nav-btn" id="themeBtn">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>
    </nav>

    <main class="lesson-container">
        <article class="lesson-content">
            <!-- Lesson Header -->
            <div class="lesson-header">
                <h1>Module 10:<br>Lesson 1: Todo List App</h1>
                <p class="lesson-subtitle">Build a complete task management application from scratch</p>
            </div>

            <!-- Introduction Section -->
            <section class="content-section">
                <h2>Introduction</h2>
                <p>Welcome to your first major project! A Todo List app is the perfect starting point for combining everything you've learned. It's simple enough to understand but complex enough to showcase real JavaScript skills.</p>
                <p>Think of a Todo List as your digital sticky notes. Just like physical notes help you remember tasks, our app will help users track what they need to do, mark things as complete, and stay organized - all while saving their data even after closing the browser!</p>
            </section>

            <!-- Project Preview -->
            <section class="content-section">
                <h2>What We're Building</h2>
                <div id="todo-app-demo" style="padding: 2rem; background: var(--bg-secondary); border-radius: 0.5rem; border: 2px solid var(--border-color);">
                    <h3 style="text-align: center; color: var(--primary-color); margin-bottom: 1.5rem;">üìù My Todo List</h3>
                    
                    <div style="display: flex; gap: 0.5rem; margin-bottom: 1.5rem;">
                        <input type="text" id="demo-todo-input" placeholder="Enter a new task..." 
                               style="flex: 1; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: 0.25rem; background: var(--bg-primary); color: var(--text-primary);">
                        <button onclick="addDemoTodo()" style="padding: 0.75rem 1.5rem; background: var(--primary-color); color: var(--bg-primary); border: none; border-radius: 0.25rem; cursor: pointer; font-weight: bold;">
                            Add Task
                        </button>
                    </div>
                    
                    <div id="demo-todo-list">
                        <!-- Demo todos will be added here -->
                    </div>
                    
                    <div style="margin-top: 1.5rem; display: flex; justify-content: space-between; align-items: center;">
                        <span id="demo-counter" style="color: var(--text-secondary);">0 tasks remaining</span>
                        <button onclick="clearCompletedDemo()" style="padding: 0.5rem 1rem; background: var(--bg-tertiary); color: var(--text-primary); border: 1px solid var(--border-color); border-radius: 0.25rem; cursor: pointer;">
                            Clear Completed
                        </button>
                    </div>
                </div>
            </section>

            <!-- HTML Structure Section -->
            <section class="content-section">
                <h2>Step 1: HTML Structure</h2>
                <p>Let's start by creating the HTML structure for our Todo List. We need an input field, an add button, and a container for our tasks.</p>

                <div class="code-editor" id="editor1">
                    <div class="editor-header">
                        <div class="editor-tabs">
                            <button class="editor-tab active">HTML Structure</button>
                        </div>
                        <div class="editor-actions">
                            <button class="editor-btn copy-btn" onclick="copyCode('editor1')">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                            <button class="editor-btn run-btn" onclick="runCode('editor1')">
                                <i class="fas fa-play"></i> Run Code
                            </button>
                        </div>
                    </div>
                    <div class="editor-content">
                        <textarea class="code-input" id="editor1-code">
// Let's create the HTML structure for our Todo List
const appHTML = `
<div id="todo-app">
    <h2>üìù My Todo List</h2>
    
    <!-- Input Section -->
    <div class="todo-input-container">
        <input type="text" id="todoInput" placeholder="What needs to be done?">
        <button id="addBtn">Add</button>
    </div>
    
    <!-- Filter Buttons -->
    <div class="todo-filters">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="active">Active</button>
        <button class="filter-btn" data-filter="completed">Completed</button>
    </div>
    
    <!-- Todo List Container -->
    <ul id="todoList"></ul>
    
    <!-- Footer -->
    <div class="todo-footer">
        <span id="itemsLeft">0 items left</span>
        <button id="clearCompleted">Clear Completed</button>
    </div>
</div>
`;

console.log("HTML Structure created!");
console.log("Components:");
console.log("- Input field for new tasks");
console.log("- Add button");
console.log("- Filter buttons (All/Active/Completed)");
console.log("- List container for todos");
console.log("- Footer with counter and clear button");</textarea>
                        <div class="code-output">
                            <div class="output-label">Output will appear here...</div>
                            <pre id="editor1-output"></pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- JavaScript Core Functions -->
            <section class="content-section">
                <h2>Step 2: Core JavaScript Functions</h2>
                <p>Now let's create the core functions that will power our Todo List: adding tasks, marking them complete, and deleting them.</p>

                <div class="info-box">
                    <div>
                        <i class="fas fa-lightbulb"></i> <strong> Data Structure:</strong>
                        <p>We'll store each todo as an object with id, text, and completed properties in an array.</p>
                    </div>
                </div>

                <div class="code-editor" id="editor2">
                    <div class="editor-header">
                        <div class="editor-tabs">
                            <button class="editor-tab active">Todo Functions</button>
                        </div>
                        <div class="editor-actions">
                            <button class="editor-btn copy-btn" onclick="copyCode('editor2')">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                            <button class="editor-btn run-btn" onclick="runCode('editor2')">
                                <i class="fas fa-play"></i> Run Code
                            </button>
                        </div>
                    </div>
                    <div class="editor-content">
                        <textarea class="code-input" id="editor2-code">
// Array to store our todos
let todos = [];

// Function to add a new todo
function addTodo(text) {
    const todo = {
        id: Date.now(), // Unique ID using timestamp
        text: text,
        completed: false
    };
    
    todos.push(todo);
    console.log(`Added todo: "${text}"`);
    return todo;
}

// Function to toggle todo completion
function toggleTodo(id) {
    const todo = todos.find(t => t.id === id);
    if (todo) {
        todo.completed = !todo.completed;
        console.log(`Toggled todo ${id}: completed = ${todo.completed}`);
    }
}

// Function to delete a todo
function deleteTodo(id) {
    const index = todos.findIndex(t => t.id === id);
    if (index > -1) {
        const deleted = todos.splice(index, 1)[0];
        console.log(`Deleted todo: "${deleted.text}"`);
    }
}

// Function to get filtered todos
function getFilteredTodos(filter) {
    switch(filter) {
        case 'active':
            return todos.filter(t => !t.completed);
        case 'completed':
            return todos.filter(t => t.completed);
        default:
            return todos;
    }
}

// Test our functions
addTodo("Learn JavaScript");
addTodo("Build a Todo App");
addTodo("Practice coding");

console.log("\nAll todos:", todos);

toggleTodo(todos[0].id);
console.log("\nAfter toggling first todo:", todos);

console.log("\nActive todos:", getFilteredTodos('active'));
console.log("Completed todos:", getFilteredTodos('completed'));</textarea>
                        <div class="code-output">
                            <div class="output-label">Output will appear here...</div>
                            <pre id="editor2-output"></pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- DOM Manipulation -->
            <section class="content-section">
                <h2>Step 3: DOM Manipulation</h2>
                <p>Let's connect our functions to the DOM to create an interactive interface.</p>

                <div class="code-editor" id="editor3">
                    <div class="editor-header">
                        <div class="editor-tabs">
                            <button class="editor-tab active">DOM Functions</button>
                        </div>
                        <div class="editor-actions">
                            <button class="editor-btn copy-btn" onclick="copyCode('editor3')">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                            <button class="editor-btn run-btn" onclick="runCode('editor3')">
                                <i class="fas fa-play"></i> Run Code
                            </button>
                        </div>
                    </div>
                    <div class="editor-content">
                        <textarea class="code-input" id="editor3-code">
// Function to render todos to the DOM
function renderTodos(todosToRender) {
    // This would normally update the DOM
    // For this example, we'll simulate it with console.log
    
    console.log("Rendering todos to DOM:");
    console.log("================================");
    
    todosToRender.forEach(todo => {
        const status = todo.completed ? "‚úì" : "‚óã";
        const style = todo.completed ? "[COMPLETED]" : "[ACTIVE]";
        console.log(`${status} ${todo.text} ${style}`);
    });
    
    // Update counter
    const activeCount = todosToRender.filter(t => !t.completed).length;
    console.log(`\n${activeCount} items left`);
}

// Function to create todo HTML element
function createTodoElement(todo) {
    const todoHTML = `
        <li class="todo-item ${todo.completed ? 'completed' : ''}" data-id="${todo.id}">
            <input type="checkbox" ${todo.completed ? 'checked' : ''}>
            <span class="todo-text">${todo.text}</span>
            <button class="delete-btn">√ó</button>
        </li>
    `;
    
    console.log("Created HTML for todo:");
    console.log(todoHTML);
    return todoHTML;
}

// Function to handle adding new todo from input
function handleAddTodo(inputText) {
    if (inputText.trim() === '') {
        console.log("Error: Cannot add empty todo!");
        return;
    }
    
    const newTodo = {
        id: Date.now(),
        text: inputText,
        completed: false
    };
    
    console.log(`Adding new todo: "${inputText}"`);
    
    // In real app, we would:
    // 1. Add to todos array
    // 2. Clear input field
    // 3. Re-render the list
    // 4. Save to localStorage
    
    return newTodo;
}

// Test the functions
const testTodos = [
    { id: 1, text: "Complete JavaScript course", completed: false },
    { id: 2, text: "Build portfolio website", completed: true },
    { id: 3, text: "Apply for jobs", completed: false }
];

console.log("Test todos:");
renderTodos(testTodos);

console.log("\n" + "=".repeat(40));
const newTodo = handleAddTodo("Learn React");
console.log("\nNew todo object:", newTodo);

console.log("\n" + "=".repeat(40));
console.log("HTML for first todo:");
createTodoElement(testTodos[0]);</textarea>
                        <div class="code-output">
                            <div class="output-label">Output will appear here...</div>
                            <pre id="editor3-output"></pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Local Storage -->
            <section class="content-section">
                <h2>Step 4: Local Storage</h2>
                <p>To make our todos persist even after refreshing the page, we'll use localStorage to save and load our data.</p>

                <div class="warning-box">
                    <div>
                        <i class="fas fa-exclamation-triangle"></i> <strong> Important:</strong>
                        <p>localStorage stores data as strings, so we need to use JSON.stringify() and JSON.parse() for our todo array.</p>
                    </div>
                </div>

                <div class="code-editor" id="editor4">
                    <div class="editor-header">
                        <div class="editor-tabs">
                            <button class="editor-tab active">Local Storage</button>
                        </div>
                        <div class="editor-actions">
                            <button class="editor-btn copy-btn" onclick="copyCode('editor4')">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                            <button class="editor-btn run-btn" onclick="runCode('editor4')">
                                <i class="fas fa-play"></i> Run Code
                            </button>
                        </div>
                    </div>
                    <div class="editor-content">
                        <textarea class="code-input" id="editor4-code">
// Function to save todos to localStorage
function saveTodos(todos) {
    try {
        const todosJSON = JSON.stringify(todos);
        // In real app: localStorage.setItem('todos', todosJSON);
        
        console.log("Saving to localStorage:");
        console.log("Key: 'todos'");
        console.log("Value:", todosJSON);
        console.log("‚úÖ Todos saved successfully!");
        
        return true;
    } catch (error) {
        console.error("Error saving todos:", error);
        return false;
    }
}

// Function to load todos from localStorage
function loadTodos() {
    try {
        // In real app: const todosJSON = localStorage.getItem('todos');
        const todosJSON = '[{"id":1,"text":"Sample todo","completed":false}]'; // Simulated
        
        if (todosJSON) {
            const todos = JSON.parse(todosJSON);
            console.log("Loading from localStorage:");
            console.log("Found", todos.length, "todos");
            console.log("Todos:", todos);
            return todos;
        } else {
            console.log("No todos found in localStorage");
            return [];
        }
    } catch (error) {
        console.error("Error loading todos:", error);
        return [];
    }
}

// Function to clear all todos from localStorage
function clearStorage() {
    // In real app: localStorage.removeItem('todos');
    console.log("Clearing localStorage...");
    console.log("‚úÖ All todos removed from storage!");
}

// Test our storage functions
const sampleTodos = [
    { id: 1, text: "Implement localStorage", completed: true },
    { id: 2, text: "Add error handling", completed: false },
    { id: 3, text: "Test the app", completed: false }
];

console.log("Testing localStorage functions:");
console.log("=" .repeat(40));

// Save todos
saveTodos(sampleTodos);

console.log("\n" + "=" .repeat(40));

// Load todos
const loadedTodos = loadTodos();

console.log("\n" + "=" .repeat(40));

// Clear storage
clearStorage();</textarea>
                        <div class="code-output">
                            <div class="output-label">Output will appear here...</div>
                            <pre id="editor4-output"></pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Complete App Code -->
            <section class="content-section">
                <h2>Step 5: Complete Todo App</h2>
                <p>Now let's put it all together into a complete, working Todo List application!</p>

                <div class="code-editor" id="editor5">
                    <div class="editor-header">
                        <div class="editor-tabs">
                            <button class="editor-tab active">Complete Todo App</button>
                        </div>
                        <div class="editor-actions">
                            <button class="editor-btn copy-btn" onclick="copyCode('editor5')">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                            <button class="editor-btn run-btn" onclick="buildCompleteTodoApp()">
                                <i class="fas fa-play"></i> Build App
                            </button>
                        </div>
                    </div>
                    <div class="editor-content">
                        <textarea class="code-input" id="editor5-code">
// Complete Todo List App
class TodoApp {
    constructor() {
        this.todos = this.loadTodos();
        this.currentFilter = 'all';
        this.init();
    }
    
    init() {
        console.log("üöÄ Todo App Initialized!");
        console.log(`Loaded ${this.todos.length} todos from storage`);
        this.render();
    }
    
    addTodo(text) {
        if (!text.trim()) return;
        
        const todo = {
            id: Date.now(),
            text: text.trim(),
            completed: false
        };
        
        this.todos.push(todo);
        this.saveTodos();
        this.render();
        console.log(`‚úÖ Added: "${text}"`);
    }
    
    toggleTodo(id) {
        const todo = this.todos.find(t => t.id === id);
        if (todo) {
            todo.completed = !todo.completed;
            this.saveTodos();
            this.render();
            console.log(`üîÑ Toggled: "${todo.text}"`);
        }
    }
    
    deleteTodo(id) {
        const index = this.todos.findIndex(t => t.id === id);
        if (index > -1) {
            const deleted = this.todos.splice(index, 1)[0];
            this.saveTodos();
            this.render();
            console.log(`üóëÔ∏è Deleted: "${deleted.text}"`);
        }
    }
    
    clearCompleted() {
        const completed = this.todos.filter(t => t.completed).length;
        this.todos = this.todos.filter(t => !t.completed);
        this.saveTodos();
        this.render();
        console.log(`üßπ Cleared ${completed} completed todos`);
    }
    
    setFilter(filter) {
        this.currentFilter = filter;
        this.render();
        console.log(`üîç Filter set to: ${filter}`);
    }
    
    getFilteredTodos() {
        switch(this.currentFilter) {
            case 'active':
                return this.todos.filter(t => !t.completed);
            case 'completed':
                return this.todos.filter(t => t.completed);
            default:
                return this.todos;
        }
    }
    
    saveTodos() {
        // Simulated save (in real app, use localStorage)
        console.log(`üíæ Saved ${this.todos.length} todos`);
    }
    
    loadTodos() {
        // Simulated load (in real app, use localStorage)
        return [
            { id: 1, text: "Welcome to Todo App!", completed: false },
            { id: 2, text: "Click todos to complete them", completed: false },
            { id: 3, text: "Use filters to organize", completed: true }
        ];
    }
    
    render() {
        const filtered = this.getFilteredTodos();
        const active = this.todos.filter(t => !t.completed).length;
        
        console.log("\nüìã TODO LIST");
        console.log("=" .repeat(40));
        
        if (filtered.length === 0) {
            console.log("No todos to display");
        } else {
            filtered.forEach(todo => {
                const status = todo.completed ? "‚úÖ" : "‚≠ï";
                const style = todo.completed ? "(completed)" : "";
                console.log(`${status} ${todo.text} ${style}`);
            });
        }
        
        console.log("=" .repeat(40));
        console.log(`üìä ${active} active, ${this.todos.length} total`);
        console.log(`üîç Filter: ${this.currentFilter}`);
    }
}

// Create and test the app
const app = new TodoApp();

console.log("\nüéØ Testing Todo App:");
console.log("=" .repeat(40));

app.addTodo("Build an awesome Todo App");
app.addTodo("Learn JavaScript");
app.toggleTodo(1);
app.setFilter('active');
app.clearCompleted();</textarea>
                        <div class="code-output">
                            <div class="output-label">Click "Build App" to see the complete todo app in action!</div>
                            <pre id="editor5-output"></pre>
                        </div>
                    </div>
                </div>

                <div id="complete-app-container" style="display: none; margin-top: 2rem; padding: 2rem; background: var(--bg-secondary); border-radius: 0.5rem; border: 2px solid var(--border-color);">
                    <!-- Complete app will be injected here -->
                </div>
            </section>

            <!-- Practice Exercises -->
            <section class="exercise-section">
                <div class="exercise-header">
                    <h3><i class="fas fa-puzzle-piece"></i> Practice Exercise 1: Add Priority Levels</h3>
                </div>
                <div class="exercise-content">
                    <p>Which property would you add to each todo object to implement priority levels?</p>
                    <div class="exercise-options" id="exercise1">
                        <button class="option-btn" data-answer="wrong">completed: true</button>
                        <button class="option-btn" data-answer="correct">priority: 'high'</button>
                        <button class="option-btn" data-answer="wrong">important: 1</button>
                        <button class="option-btn" data-answer="wrong">level: true</button>
                    </div>
                    <div class="exercise-feedback" id="exercise1-feedback"></div>
                </div>
            </section>

            <section class="exercise-section">
                <div class="exercise-header">
                    <h3><i class="fas fa-puzzle-piece"></i> Practice Exercise 2: localStorage Key</h3>
                </div>
                <div class="exercise-content">
                    <p>What's the correct way to save todos to localStorage?</p>
                    <div class="exercise-options" id="exercise2">
                        <button class="option-btn" data-answer="wrong">localStorage.todos = todos</button>
                        <button class="option-btn" data-answer="wrong">localStorage.save('todos', todos)</button>
                        <button class="option-btn" data-answer="correct">localStorage.setItem('todos', JSON.stringify(todos))</button>
                        <button class="option-btn" data-answer="wrong">localStorage.addItem('todos', todos)</button>
                    </div>
                    <div class="exercise-feedback" id="exercise2-feedback"></div>
                </div>
            </section>

            <section class="exercise-section">
                <div class="exercise-header">
                    <h3><i class="fas fa-puzzle-piece"></i> Practice Exercise 3: Build Your Own Feature</h3>
                </div>
                <div class="exercise-content">
                    <p>Add a due date feature to the todo app. Each todo should have an optional due date.</p>
                    
                    <div class="code-editor" id="exercise3">
                        <div class="editor-header">
                            <div class="editor-tabs">
                                <button class="editor-tab active">Add Due Date Feature</button>
                            </div>
                            <div class="editor-actions">
                                <button class="editor-btn copy-btn" onclick="copyCode('exercise3')">
                                    <i class="fas fa-copy"></i> Copy
                                </button>
                                <button class="editor-btn run-btn" onclick="checkExercise3()">
                                    <i class="fas fa-play"></i> Check Solution
                                </button>
                            </div>
                        </div>
                        <div class="editor-content">
                            <textarea class="code-input" id="exercise3-code">
// Add a due date feature to the todo app
function addTodoWithDueDate(text, dueDate) {
    const todo = {
        id: Date.now(),
        text: text,
        completed: false,
        // Add your due date property here
        
    };
    
    // Add validation for due date
    
    
    console.log("Created todo:", todo);
    return todo;
}

// Function to check if todo is overdue
function isOverdue(todo) {
    // Add your logic here to check if todo is overdue
    
    
}

// Test your functions
const todoWithDate = addTodoWithDueDate(
    "Submit project", 
    "2025-12-31"
);

console.log("Is overdue?", isOverdue(todoWithDate));</textarea>
                            <div class="code-output">
                                <div class="output-label">Output will appear here...</div>
                                <pre id="exercise3-output"></pre>
                            </div>
                        </div>
                    </div>
                    <div class="exercise-feedback" id="exercise3-feedback"></div>
                </div>
            </section>

            <!-- Common Mistakes Section -->
            <section class="content-section">
                <h2>Common Mistakes to Avoid</h2>
                <div class="mistake-box">
                    <div class="mistake-item">
                        <div>
                            <i class="fas fa-times-circle"></i> <strong> Not Validating Input</strong>
                            <p>Always check if the input is empty or only whitespace before adding a todo. Use `text.trim()` to remove extra spaces.</p>
                        </div>
                    </div>
                    <div class="mistake-item">
                        <div>
                            <i class="fas fa-times-circle"></i> <strong> Forgetting to Save After Changes</strong>
                            <p>Remember to call your save function after every modification (add, delete, toggle) to persist changes to localStorage.</p>
                        </div>
                    </div>
                    <div class="mistake-item">
                        <div>
                            <i class="fas fa-times-circle"></i> <strong> Not Handling localStorage Errors</strong>
                            <p>Always wrap localStorage operations in try-catch blocks. Some browsers disable localStorage in private mode.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Summary Section -->
            <section class="content-section">
                <h2>Summary</h2>
                <div class="summary-box">
                    <h3>Key Takeaways:</h3>
                    <ul>
                        <li>Todo apps combine DOM manipulation, event handling, and data persistence</li>
                        <li>Use unique IDs (like timestamps) to identify each todo item</li>
                        <li>localStorage requires JSON.stringify() for objects and arrays</li>
                        <li>Always validate user input before processing</li>
                        <li>Separate your data logic from your UI rendering for cleaner code</li>
                    </ul>
                </div>
            </section>

            <!-- Spacing before navigation -->
            <div style="margin: 2rem 0;"></div>
            
            <!-- Lesson Navigation -->
            <div class="lesson-navigation">
                <button class="btn btn-secondary" onclick="window.location.href='../module9/lesson4.html'">
                    <i class="fas fa-arrow-left"></i> Previous Module
                </button>
                
                <button class="btn btn-primary" onclick="completeLesson()">
                    Complete Lesson <i class="fas fa-check"></i>
                </button>
                
                <button class="btn btn-secondary" onclick="window.location.href='lesson2.html'">
                    Next Lesson <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </article>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-content">
            <p>Made by TayMcQuaya with <span class="heart">‚ù§Ô∏è</span></p>
            <div class="social-links">
                <a href="https://taymcquaya.com" target="_blank" rel="noopener noreferrer" aria-label="Personal Website">
                    <i class="fas fa-globe"></i>
                </a>
                <a href="https://x.com/TayMcQuaya" target="_blank" rel="noopener noreferrer" aria-label="X (Twitter)">
                    <i class="fa-brands fa-x-twitter"></i>
                </a>
                <a href="https://github.com/TayMcQuaya" target="_blank" rel="noopener noreferrer" aria-label="GitHub">
                    <i class="fab fa-github"></i>
                </a>
            </div>
            <div class="copyright">
                <p>&copy; 2025 JavaScript Journey&trade; - All rights reserved</p>
            </div>
        </div>
    </footer>

    <!-- Reset Modal -->
    <div class="modal" id="resetModal">
        <div class="modal-content">
            <h3>Reset Progress</h3>
            <p>Choose what you want to reset:</p>
            <div class="modal-buttons">
                <button class="btn btn-danger" id="resetAllBtn">Reset All Progress</button>
                <button class="btn btn-warning" id="resetModuleBtn">Reset Current Module</button>
                <button class="btn btn-secondary" id="cancelResetBtn">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../../js/app.js"></script>
    <script src="../../js/storage.js"></script>
    <script src="../../js/navigation.js"></script>
    <script src="../../js/progress.js"></script>
    <script src="../../js/exercises.js"></script>
    <script src="../../js/modal.js"></script>
    <script>
        // Demo todo app functionality
        let demoTodos = [
            { id: 1, text: "Learn JavaScript", completed: false },
            { id: 2, text: "Build amazing apps", completed: false }
        ];

        function renderDemoTodos() {
            const listEl = document.getElementById('demo-todo-list');
            const counterEl = document.getElementById('demo-counter');
            
            listEl.innerHTML = demoTodos.map(todo => `
                <div style="display: flex; align-items: center; padding: 0.75rem; margin-bottom: 0.5rem; background: var(--bg-primary); border-radius: 0.25rem; border: 1px solid var(--border-color);">
                    <input type="checkbox" ${todo.completed ? 'checked' : ''} 
                           onchange="toggleDemoTodo(${todo.id})"
                           style="margin-right: 1rem; width: 20px; height: 20px; cursor: pointer;">
                    <span style="flex: 1; ${todo.completed ? 'text-decoration: line-through; opacity: 0.6;' : ''} color: var(--text-primary);">
                        ${todo.text}
                    </span>
                    <button onclick="deleteDemoTodo(${todo.id})" 
                            style="background: transparent; color: var(--danger-color, #e74c3c); border: none; font-size: 1.5rem; cursor: pointer; padding: 0 0.5rem;">
                        √ó
                    </button>
                </div>
            `).join('');
            
            const remaining = demoTodos.filter(t => !t.completed).length;
            counterEl.textContent = `${remaining} task${remaining !== 1 ? 's' : ''} remaining`;
        }

        function addDemoTodo() {
            const input = document.getElementById('demo-todo-input');
            if (input.value.trim()) {
                demoTodos.push({
                    id: Date.now(),
                    text: input.value.trim(),
                    completed: false
                });
                input.value = '';
                renderDemoTodos();
            }
        }

        function toggleDemoTodo(id) {
            const todo = demoTodos.find(t => t.id === id);
            if (todo) {
                todo.completed = !todo.completed;
                renderDemoTodos();
            }
        }

        function deleteDemoTodo(id) {
            demoTodos = demoTodos.filter(t => t.id !== id);
            renderDemoTodos();
        }

        function clearCompletedDemo() {
            demoTodos = demoTodos.filter(t => !t.completed);
            renderDemoTodos();
        }

        // Initialize demo
        renderDemoTodos();

        // Allow Enter key to add todo
        document.getElementById('demo-todo-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addDemoTodo();
            }
        });

        // Complete lesson function
        function completeLesson() {
            Storage.saveProgress(10, 1, true);
            customModal.success('Excellent! You\'ve built your first complete Todo App!', 'Project Complete!');
            
            setTimeout(() => {
                window.location.href = 'lesson2.html';
            }, 2000);
        }

        // Run code function
        function runCode(editorId) {
            const codeInput = document.getElementById(`${editorId}-code`);
            const outputPane = document.getElementById(`${editorId}-output`);
            
            if (!codeInput || !outputPane) return;
            
            const code = codeInput.value;
            outputPane.innerHTML = '';
            
            const originalConsoleLog = console.log;
            const logs = [];
            
            console.log = (...args) => {
                logs.push(args.map(arg => {
                    if (typeof arg === 'object') {
                        return JSON.stringify(arg, null, 2);
                    }
                    return String(arg);
                }).join(' '));
            };
            
            try {
                eval(code);
                
                if (logs.length > 0) {
                    outputPane.innerHTML = logs.join('\n');
                    outputPane.style.color = 'var(--js-yellow)';
                } else {
                    outputPane.textContent = 'No output';
                }
            } catch (error) {
                outputPane.textContent = 'Error: ' + error.message;
                outputPane.style.color = 'var(--danger-color, #e74c3c)';
            } finally {
                console.log = originalConsoleLog;
            }
        }

        // Copy code function
        function copyCode(editorId) {
            const codeInput = document.getElementById(`${editorId}-code`);
            if (!codeInput) return;
            
            codeInput.select();
            codeInput.setSelectionRange(0, 99999);
            
            try {
                document.execCommand('copy');
                const button = event.target.closest('.editor-btn');
                const originalHTML = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check"></i> Copied!';
                setTimeout(() => {
                    button.innerHTML = originalHTML;
                }, 2000);
            } catch (err) {
                console.error('Failed to copy code:', err);
            }
        }

        // Build complete todo app
        function buildCompleteTodoApp() {
            runCode('editor5');
            
            const container = document.getElementById('complete-app-container');
            container.style.display = 'block';
            container.innerHTML = `
                <h3 style="text-align: center; color: var(--primary-color); margin-bottom: 1.5rem;">üéâ Your Complete Todo App!</h3>
                <p style="text-align: center; color: var(--text-secondary); margin-bottom: 1.5rem;">
                    Congratulations! You've built a fully functional Todo List app. 
                    Copy the code above to create your own version!
                </p>
            `;
        }

        // Check Exercise 3
        function checkExercise3() {
            const codeInput = document.getElementById('exercise3-code');
            const outputPane = document.getElementById('exercise3-output');
            const feedback = document.getElementById('exercise3-feedback');
            
            const code = codeInput.value;
            const hasDueDate = code.includes('dueDate:') || code.includes('dueDate :');
            const hasDateValidation = code.includes('new Date') || code.includes('Date.parse');
            const hasOverdueCheck = code.includes('Date.now()') || code.includes('new Date()');
            
            // Run the code
            runCode('exercise3');
            
            // Show feedback
            setTimeout(() => {
                if (hasDueDate && hasOverdueCheck) {
                    feedback.className = 'exercise-feedback show success';
                    feedback.textContent = 'Excellent! You\'ve successfully added a due date feature with overdue checking!';
                } else if (hasDueDate) {
                    feedback.className = 'exercise-feedback show warning';
                    feedback.textContent = 'Good start! You added the due date property. Now implement the isOverdue function to check if a todo is past its due date.';
                } else {
                    feedback.className = 'exercise-feedback show error';
                    feedback.textContent = 'Add a dueDate property to the todo object and implement the isOverdue function to check dates.';
                }
            }, 150);
        }

        // Exercise handlers
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.option-btn').forEach(button => {
                button.addEventListener('click', function() {
                    if (this.disabled) return;
                    
                    const exerciseContainer = this.closest('.exercise-options');
                    const feedbackDiv = this.closest('.exercise-content').querySelector('.exercise-feedback');
                    const isCorrect = this.getAttribute('data-answer') === 'correct';
                    
                    // Remove previous incorrect selections
                    exerciseContainer.querySelectorAll('.option-btn').forEach(btn => {
                        if (btn.classList.contains('incorrect')) {
                            btn.classList.remove('incorrect', 'selected');
                            btn.disabled = false;
                        }
                    });
                    
                    // Mark this button
                    this.classList.add('selected');
                    this.classList.add(isCorrect ? 'correct' : 'incorrect');
                    
                    if (isCorrect) {
                        exerciseContainer.querySelectorAll('.option-btn').forEach(btn => {
                            btn.disabled = true;
                        });
                    } else {
                        this.disabled = true;
                    }
                    
                    // Show feedback
                    if (feedbackDiv) {
                        setTimeout(() => {
                            feedbackDiv.style.display = 'block';
                            feedbackDiv.className = 'exercise-feedback show ' + (isCorrect ? 'success' : 'error');
                            
                            if (exerciseContainer.id === 'exercise1') {
                                feedbackDiv.textContent = isCorrect ? 
                                    'Correct! A priority property with values like "high", "medium", "low" is perfect for todo priorities.' : 
                                    'Not quite. Think about what property name and value would best represent priority levels.';
                            } else if (exerciseContainer.id === 'exercise2') {
                                feedbackDiv.textContent = isCorrect ? 
                                    'Excellent! localStorage.setItem() with JSON.stringify() is the correct way to save objects.' : 
                                    'Try again. Remember that localStorage only stores strings, so we need JSON.stringify().';
                            }
                        }, 150);
                    }
                });
            });
        });
    </script>
</body>
</html>